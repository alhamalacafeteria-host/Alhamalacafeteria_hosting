<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Restaurant Accounts Manager</title>
<style>
    body {
        font-family: 'Segoe UI', Tahoma, sans-serif;
        margin: 0;
        background: #f4f6f8;
        color: #333;
    }
    header {
 background: #2c3e50;
        color: #fff;
        padding: 15px;
        text-align: center;
        font-size: 1.5em;
    }
    .container {
        max-width: 1200px;
        margin: auto;
        padding: 20px;
    }
    .dashboard {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
    }
    .card {
        flex: 1;
        background: #fff;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        text-align: center;
    }
    .3 {
        margin-bottom: 10px;
        color: #555;
    }
    .card p {
        font-size: 1.4em;
        font-weight: bold;
    }
    form {
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    form input, form select, form textarea, form button {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        border-radius: 5px;
        border: 1px solid #ccc;
    }
    form button {
        background: #3498db;
        color: #fff;
        border: none;
        cursor: pointer;
    }
    form button:hover {
        background: #2980b9;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
    }
    table th, table td {
        padding: 10px;
        border-bottom: 1px solid #ddd;
        text-align: center;
    }
    .actions button {
        margin: 0 5px;
        padding: 5px 10px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
    .edit-btn { background: #f39c12; color: #fff; }
    .delete-btn { background: #e74c3c; color: #fff; }
    .filter-section, .report-section {
        background: #fff;
        padding: 15px;
        border-radius: 8px;
        margin-top: 20px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .btn-export {
        background: #27ae60;
        color: #fff;
        padding: 8px 12px;
        border-radius: 5px;
        border: none;
        cursor: pointer;
        margin: 5px;
    }
    .btn-export:hover {
        background: #1e8449;
    }
</style>
</head>
<body>
<header>Restaurant Accounts Manager</header>
<div class="container">

    <!-- Dashboard -->
    <div class="dashboard">
        <div class="card">
            <h3>Total Income</h3>
            <p id="total-income">$0</p>
        </div>
        <div class="card">
            <h3>Total Expense</h3>
            <p id="total-expense">$0</p>
        </div>
        <div class="card">
            <h3>Net</h3>
            <p id="net">$0</p>
        </div>
    </div>

    <!-- Add/Edit Entry -->
    <form id="entry-form">
        <h2>Add / Edit Entry</h2>
        <input type="date" id="date" required>
        <select id="type" required>
            <option value="">Select Type</option>
            <option value="Income">Income</option>
            <option value="Expense">Expense</option>
        </select>
        <select id="account" required>
            <option value="">Select Account</option>
            <option value="Cash">Cash</option>
            <option value="Benefit">Benefit</option>
        </select>
        <input type="number" id="amount" placeholder="Amount" required>
        <textarea id="description" placeholder="Description"></textarea>
        <button type="submit">Save</button>
        <button type="reset">Reset</button>
    </form>

    <!-- Entries Table -->
    <div>
        <h2>Entries</h2>
        <table>
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Type</th>
                    <th>Account</th>
                    <th>Amount</th>
                    <th>Description</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="entries-table">
                <tr><td colspan="6">No entries yet</td></tr>
            </tbody>
        </table>
    </div>

    <!-- Filter & Export -->
    <div class="filter-section">
        <h3>Filter & Export</h3>
        <input type="date" id="filter-start">
        <input type="date" id="filter-end">
        <select id="filter-type">
            <option value="">Type</option>
            <option value="Income">Income</option>
            <option value="Expense">Expense</option>
        </select>
        <select id="filter-account">
            <option value="">Account</option>
            <option value="Cash">Cash</option>
            <option value="Benefit">Benefit</option>
        </select>
        <button class="btn-export" onclick="exportData('csv')">Export CSV</button>
        <button class="btn-export" onclick="exportData('json')">Export JSON</button>
        <button class="btn-export" onclick="exportData('excel')">Export Excel</button>
        <input type="file" id="import-json" accept=".json">
    </div>

    <!-- Monthly Report -->
    <div class="report-section">
        <h3>Monthly Report</h3>
        <button class="btn-export" onclick="generateMonthlyReport()">Generate Report</button>
        <button class="btn-export" onclick="exportMonthlyCSV()">Export CSV</button>
    </div>

</div>

https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2</script>
<script>
    const supabaseUrl = "https://hdtbveombnhozbxognvr.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkdGJ2ZW9tYm5ob3pieG9nbnZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyMjc4NDMsImV4cCI6MjA3NDgwMzg0M30.J1gETcvnnd47IyumvjzNGLMADQjQdcsnbr6SQOGSpsM";
    const supabase = supabase.createClient(supabaseUrl, supabaseKey);

    const tableBody = document.getElementById('entries-table');
    const form = document.getElementById('entry-form');

    async function loadEntries() {
        const { data, error } = await supabase.from('entries').select('*').order('date', { ascending: true });
        if (error) {
            console.error(error);
            return;
        }
        renderEntries(data);
        updateDashboard(data);
    }

    function renderEntries(entries) {
        tableBody.innerHTML = '';
        if (entries.length === 0) {
            tableBody.innerHTML = '<tr><td colspan="6">No entries yet</td></tr>';
            return;
        }
        entries.forEach(entry => {
            const row = `<tr>
                <td>${entry.date}</td>
                <td>${entry.type}</td>
                <td>${entry.account}</td>
                <td>$${entry.amount}</td>
                <td>${entry.description || ''}</td>
                <td class="actions">
                    <button class="edit-btn" onclick="editEntry(${entry.id})">Edit</button>
                    <button class="delete-btn" onclick="deleteEntry(${entry.id})">Delete</button>
                </td>
            </tr>`;
            tableBody.innerHTML += row;
        });
    }

    function updateDashboard(entries) {
        let income = 0, expense = 0;
        entries.forEach(e => {
            if (e.type === 'Income') income += e.amount;
            else expense += e.amount;
        });
        document.getElementById('total-income').textContent = `$${income}`;
        document.getElementById('total-expense').textContent = `$${expense}`;
        document.getElementById('net').textContent = `$${income - expense}`;
    }

    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const newEntry = {
            date: document.getElementById('date').value,
            type: document.getElementById('type').value,
            account: document.getElementById('account').value,
            amount: parseFloat(document.getElementById('amount').value),
            description: document.getElementById('description').value
        };
        const { error } = await supabase.from('entries').insert([newEntry]);
        if (error) {
            console.error(error);
            return;
        }
        form.reset();
        loadEntries();
    });

    async function deleteEntry(id) {
        await supabase.from('entries').delete().eq('id', id);
        loadEntries();
    }

    function editEntry(id) {
        alert('Edit functionality can be implemented here.');
    }

    function exportData(format) {
        alert(`Export as ${format} coming soon!`);
    }

    function generateMonthlyReport() {
        alert('Monthly report generation coming soon!');
    }

    function exportMonthlyCSV() {
        alert('Export monthly CSV coming soon!');
    }

    loadEntries();
</script>
</body>
</html>